<!DOCTYPE html>
<!--
  Setun Simulator (Setun VS)
  License: MIT (see LICENSE file)
  Copyright (c) 2025 Robson Cassiano
-->
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Fira+Code&display=swap" rel="stylesheet">
  <title>Setun Simulador de Computador Tern√°rio</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
<div class="top-controls">
  <div class="language-switcher">
    <button id="lang-en">EN</button> | <button id="lang-pt" class="active">PT</button>
  </div>

  <div class="right-controls">
    <div class="menu-wrapper">
      <button id="app-menu-toggle" class="icon-button" aria-haspopup="true" aria-expanded="false" aria-controls="app-menu" title="Menu">
        <!-- 3x3 grid icon (Google apps style) -->
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="22" height="22" aria-hidden="true">
          <circle cx="5" cy="5" r="2"/><circle cx="12" cy="5" r="2"/><circle cx="19" cy="5" r="2"/>
          <circle cx="5" cy="12" r="2"/><circle cx="12" cy="12" r="2"/><circle cx="19" cy="12" r="2"/>
          <circle cx="5" cy="19" r="2"/><circle cx="12" cy="19" r="2"/><circle cx="19" cy="19" r="2"/>
        </svg>
      </button>
      <div id="app-menu" class="menu-dropdown" role="menu" aria-labelledby="app-menu-toggle">
        <ul>
          <li><a href="https://tryquetra.github.io/setun-simulator/?lang=en-us" target="_blank" rel="noopener" role="menuitem" data-lang-key="menuSetunSimulator">Simulador Setun</a></li>
          <li><a href="https://tryquetra.github.io/ternary-synchronous-clock/" target="_blank" rel="noopener" role="menuitem" data-lang-key="menuTernaryClock">Rel√≥gio tern√°rio s√≠ncrono</a></li>
          <li><a href="https://robsoncassiano.software/tools/heisanban?lang=en-us" target="_blank" rel="noopener" role="menuitem" data-lang-key="menuHeiSanban">HeiSanban</a></li>
          <li><a href="https://tryquetra.github.io/balanced-ternary-text-encoder/" target="_blank" rel="noopener" role="menuitem" data-lang-key="menuBalancedTextEncoder">Codificador de texto tern√°rio balanceado</a></li>
          <li><a href="https://tryquetra.github.io/radix-converter-balanced-ternary/" target="_blank" rel="noopener" role="menuitem" data-lang-key="menuRadixConverter">Conversor de base (tern√°rio balanceado)</a></li>
        </ul>
      </div>
    </div>

    <a id="github-btn" class="github-button" href="https://github.com/Tryquetra/setun-simulator" target="_blank" rel="noopener" aria-label="GitHub">
      <!-- GitHub mark -->
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="22" height="22" fill="currentColor" aria-hidden="true">
        <path d="M12 .5C5.73.5.98 5.25.98 11.52c0 4.85 3.14 8.96 7.49 10.41.55.1.75-.24.75-.53 0-.26-.01-1.12-.02-2.03-3.05.66-3.69-1.3-3.69-1.3-.5-1.27-1.22-1.6-1.22-1.6-.99-.67.08-.66.08-.66 1.1.08 1.68 1.13 1.68 1.13.98 1.67 2.57 1.19 3.2.91.1-.71.38-1.19.69-1.46-2.44-.28-5.01-1.22-5.01-5.43 0-1.2.43-2.19 1.13-2.97-.11-.28-.49-1.41.11-2.94 0 0 .92-.29 3.01 1.13a10.46 10.46 0 0 1 2.74-.37c.93 0 1.86.12 2.74.37 2.09-1.42 3.01-1.13 3.01-1.13.6 1.53.22 2.66.11 2.94.7.78 1.13 1.77 1.13 2.97 0 4.22-2.57 5.15-5.02 5.43.39.33.73.98.73 1.98 0 1.43-.01 2.58-.01 2.93 0 .29.2.64.75.53 4.35-1.45 7.49-5.56 7.49-10.41C23.02 5.25 18.27.5 12 .5z"/>
      </svg>
    </a>

    <div class="theme-switcher">
      <button id="theme-toggle">
        <!-- SVG Icon will be inserted by JS -->
      </button>
    </div>
  </div>
</div>


<div class="main-container">
  <h1 data-lang-key="mainTitle">Setun Simulador do Computador Tern√°rio</h1>

  <div class="layout-container">
    <div class="emulator-panel card" id="setun-emulator">
      <!-- A interface do simulador ser√° gerada aqui pelo JavaScript -->
    </div>

    <div class="io-and-status-panel">
      <div class="io-device card">
        <label for="ft1-input" data-lang-key="ft1Label">FT-1 (Entrada de Programa)</label>
        <textarea id="ft1-input" data-lang-key="ft1Placeholder" placeholder="Insira o programa tern√°rio aqui..."></textarea>
        <button id="ft1-load" data-lang-key="loadProgram">Ler Fita do Programa</button>
      </div>
      <div class="io-device card">
        <label for="ft2-input" data-lang-key="ft2Label">FT-2 (Entrada de Dados)</label>
        <textarea id="ft2-input" data-lang-key="ft2Placeholder" placeholder="Insira dados tern√°rios aqui..."></textarea>
        <button id="ft2-load" data-lang-key="loadData">Ler Fita de Dados</button>
      </div>
      <div class="io-device card">
        <div class="io-header">
          <label data-lang-key="printerLabel">Impressora EUM-46</label>
          <button id="clear-printer-btn" title="Limpar Sa√≠da">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="18" height="18"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/></svg>
          </button>
        </div>
        <div id="printer-output" class="output"></div>
      </div>
    </div>
  </div>

  <div class="info-section card">
    <div class="accordion">
      <div class="accordion-item">
        <div class="accordion-header" data-lang-key="aboutTitle">Sobre o Setun</div>
        <div class="accordion-content">
          <p data-lang-key="aboutText">"Setun VS" √© um simulador do Setun MCVM, um computador tern√°rio sovi√©tico. Os principais elementos s√£o RAM, registradores, painel de controle e dispositivos perif√©ricos de entrada (FT-1, FT-2) e sa√≠da (EUM-46).</p>
        </div>
      </div>
      <div class="accordion-item">
        <div class="accordion-header" data-lang-key="componentsTitle">Componentes Principais</div>
        <div class="accordion-content">
          <div>
            <p><strong><span data-lang-key="registersLabel">Registradores:</span></strong> <span data-lang-key="registersDesc">Exibem o estado interno da m√°quina.</span></p>
            <ul>
              <li><strong><span data-lang-key="regSLabel">S (Resultado):</span></strong> <span data-lang-key="regSDesc">Registrador de 18 trits para resultados de opera√ß√µes.</span></li>
              <li><strong><span data-lang-key="regRLabel">R (Multiplicador):</span></strong> <span data-lang-key="regRDesc">Registrador de 18 trits usado em opera√ß√µes de multiplica√ß√£o.</span></li>
              <li><strong><span data-lang-key="regFLabel">F (Modifica√ß√£o):</span></strong> <span data-lang-key="regFDesc">Registrador de modifica√ß√£o de 5 trits.</span></li>
              <li><strong><span data-lang-key="regCLabel">C (Endere√ßo de Comando):</span></strong> <span data-lang-key="regCDesc">Registrador de endere√ßo de comando de 5 trits.</span></li>
              <li><strong><span data-lang-key="regKLabel">K (Comando):</span></strong> <span data-lang-key="regKDesc">Registrador de comando de 9 trits que armazena a instru√ß√£o atual.</span></li>
              <li><strong><span data-lang-key="regWLabel">œâ (w):</span></strong> <span data-lang-key="regWDesc">Determina a transfer√™ncia de controle em desvios condicionais.</span></li>
              <li><strong><span data-lang-key="regMBLabel">–ú–ë (MB):</span></strong> <span data-lang-key="regMBDesc">Endere√ßo da √∫ltima zona do tambor magn√©tico acessada.</span></li>
            </ul>
            <p><strong><span data-lang-key="switchesLabel">Interruptores (Entrada de Comando, Endere√ßo de Parada):</span></strong> <span data-lang-key="switchesDesc">Permitem a entrada manual de comandos e endere√ßos. Clique para alternar entre os estados (+1, 0, -1).</span></p>
            <p><strong><span data-lang-key="buttonsLabel">Bot√µes de Controle:</span></strong></p>
            <ul>
              <li><strong><span data-lang-key="btnLoadLabel">Carregar:</span></strong> <span data-lang-key="btnLoadDesc">Carrega dados da fita perfurada do dispositivo FT-1 para a RAM.</span></li>
              <li><strong><span data-lang-key="btnStartLabel">Iniciar:</span></strong> <span data-lang-key="btnStartDesc">Inicia a execu√ß√£o do programa.</span></li>
              <li><strong><span data-lang-key="btnStopLabel">Parar:</span></strong> <span data-lang-key="btnStopDesc">Encerra a execu√ß√£o do programa (n√£o implementado).</span></li>
              <li><strong><span data-lang-key="btnRemoteLabel">Comando Remoto:</span></strong> <span data-lang-key="btnRemoteDesc">Executa o comando inserido manualmente nos interruptores.</span></li>
            </ul>
            <p><strong><span data-lang-key="ioLabel">Dispositivos de E/S:</span></strong></p>
            <ul>
              <li><strong><span data-lang-key="ioFtLabel">FT-1 / FT-2:</span></strong> <span data-lang-key="ioFtDesc">Simulam leitores de fita perfurada para carregar programas e dados.</span></li>
              <li><strong><span data-lang-key="ioPrinterLabel">Impressora EUM-46:</span></strong> <span data-lang-key="ioPrinterDesc">Exibe a sa√≠da do programa (parcialmente implementada).</span></li>
            </ul>
          </div>
        </div>
      </div>
      <div class="accordion-item">
        <div class="accordion-header" data-lang-key="instructionsTitle">Conjunto de Instru√ß√µes</div>
        <div class="accordion-content">
          <table>
            <thead>
            <tr>
              <th data-lang-key="tableTh1">C√≥digo (Tern√°rio)</th>
              <th data-lang-key="tableTh2">C√≥digo (Nove)</th>
              <th data-lang-key="tableTh3">Nome da Opera√ß√£o</th>
              <th data-lang-key="tableTh4">Descri√ß√£o</th>
            </tr>
            </thead>
            <tbody>
            <tr><td>+00</td><td>30</td><td data-lang-key="opName_30">Enviar para S</td><td>(A*) =&gt; (S)</td></tr>
            <tr><td>+0+</td><td>33</td><td data-lang-key="opName_33">Adi√ß√£o a S</td><td>(S)+(A*) =&gt; (S)</td></tr>
            <tr><td>+0-</td><td>3x</td><td data-lang-key="opName_3x">Subtra√ß√£o a S</td><td>(S)-(A*) =&gt; (S)</td></tr>
            <tr><td>++0</td><td>40</td><td data-lang-key="opName_40">Multiplica√ß√£o 0</td><td>(S)=&gt;(R); (A*)(R)=&gt;(S)</td></tr>
            <tr><td>+++</td><td>43</td><td data-lang-key="opName_43">Multiplica√ß√£o +</td><td>(S)+(A*)(R)=&gt;(S)</td></tr>
            <tr><td>++-</td><td>4x</td><td data-lang-key="opName_4x">Multiplica√ß√£o -</td><td>(A*)+(S)(R)=&gt;(S)</td></tr>
            <tr><td>+-0</td><td>20</td><td data-lang-key="opName_20">Multiplica√ß√£o bit a bit</td><td>(A*)[x](S)=&gt;(S)</td></tr>
            <tr><td>+-+</td><td>23</td><td data-lang-key="opName_23">Enviar para R</td><td>(A*)=&gt;(R)</td></tr>
            <tr><td>+--</td><td>2x</td><td data-lang-key="opName_2x">Parar</td><td data-lang-key="opDesc_2x">Parar; (A*)=&gt;(R)</td></tr>
            <tr><td>0+0</td><td>10</td><td data-lang-key="opName_10">Salto condicional 0</td><td data-lang-key="opDesc_10">A*=>(C) quando w=0</td></tr>
            <tr><td>0++</td><td>13</td><td data-lang-key="opName_13">Salto condicional +</td><td data-lang-key="opDesc_13">A*=>(C) quando w=+</td></tr>
            <tr><td>0+-</td><td>1x</td><td data-lang-key="opName_1x">Salto condicional -</td><td data-lang-key="opDesc_1x">A*=>(C) quando w=-</td></tr>
            <tr><td>000</td><td>00</td><td data-lang-key="opName_00">Salto incondicional</td><td>A*=>(C)</td></tr>
            <tr><td>-00</td><td>x0</td><td data-lang-key="opName_x0">Sa√≠da-entrada</td><td data-lang-key="opDesc_x0">Entrada para Fa*. Sa√≠da de Fa*</td></tr>
            <tr><td>-++</td><td>y3</td><td data-lang-key="opName_y3">Escrever de S</td><td>(S)=&gt;(A*)</td></tr>
            <tr><td>---</td><td>zhx</td><td data-lang-key="opName_zhx">Parar (N√£o utilizado)</td><td data-lang-key="opDesc_zhx">Para a execu√ß√£o</td></tr>
            </tbody>
          </table>
          <p data-html-content="true" data-lang-key="instructionsNote"><i>Nota: Este √© um subconjunto simplificado para demonstra√ß√£o. A m√°quina Setun original tinha um conjunto de instru√ß√µes mais completo.</i></p>
        </div>
      </div>
      <div class="accordion-item">
        <div class="accordion-header" data-lang-key="usageTitle">Como Usar</div>
        <div class="accordion-content">
          <ol>
            <li><strong data-lang-key="usageLi1_1">Carregar Programa:</strong> <span data-lang-key="usageLi1_2">Insira o programa no campo FT-1 e clique em "Carregar Programa".</span></li>
            <li data-html-content="true" data-lang-key="usageLi2"><strong>Exemplo de Programa:</strong> Para carregar o n√∫mero 10 e depois adicionar -4, resultando em 6.
              <pre>
// Carrega 10 (...+0+) no Somador S
+00 000000000000000+0+
// Adiciona -4 (...0-+) ao Somador S
+0+ 0000000000000000-+
// Para o programa
--- 000000000000000000
</pre>
            </li>
            <li data-html-content="true" data-lang-key="usageLi3"><strong data-lang-key="usageLi3_1">Carregar para a RAM:</strong> <span data-lang-key="usageLi3_2">Clique no bot√£o <strong>'Carregar'</strong>. Isso transfere os dados da fita para a mem√≥ria.</span></li>
            <li data-html-content="true" data-lang-key="usageLi4"><strong data-lang-key="usageLi4_1">Executar:</strong> <span data-lang-key="usageLi4_2">Clique no bot√£o <strong>'Iniciar'</strong> para come√ßar a execu√ß√£o.</span></li>
            <li><strong><span data-lang-key="usageLi5_1">Observar:</span></strong> <span data-lang-key="usageLi5_2">As luzes do registrador 'S' mostrar√£o o valor 6 (...+--).</span></li>
          </ol>
        </div>
      </div>
      <div class="accordion-item">
        <div class="accordion-header" data-lang-key="readingTitle">Como Ler os Resultados</div>
        <div class="accordion-content" data-lang-key="readingContent" data-html-content="true">
        </div>
      </div>
    </div>
  </div>

  <footer>
    <p data-lang-key="footerLicense">Licen√ßa MIT Robson Cassiano</p>
    <p data-lang-key="footerMotto">Vida Longa e Pr√≥spera üññüèª</p>
  </footer>
</div>

<script src="js/main.js"></script>

</body>
</html>
